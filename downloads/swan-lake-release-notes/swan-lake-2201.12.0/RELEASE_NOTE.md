---
layout: ballerina-left-nav-release-notes
title: Ballerina Swan Lake Update 12 (2201.12.0) 
permalink: /downloads/swan-lake-release-notes/2201.12.0/
active: 2201.12.0
redirect_from: 
    - /downloads/swan-lake-release-notes/2201.12.0
    - /downloads/swan-lake-release-notes/2201.12.0-swan-lake/
    - /downloads/swan-lake-release-notes/2201.12.0-swan-lake
    - /downloads/swan-lake-release-notes/
    - /downloads/swan-lake-release-notes
---

## Overview of Ballerina Swan Lake Update 12 (2201.12.0)

<em> Swan Lake Update 12 (2201.12.0) is the twelfth update release of Ballerina Swan Lake, and it includes a new set of features and significant improvements to the compiler, runtime, Ballerina library, and developer tooling. It is based on the 2024R1 version of the Language Specification.</em> 

## Update Ballerina

Update your current Ballerina installation directly to 2201.12.0 using the [Ballerina Update Tool](/learn/update-tool/) as follows.

1. Run `bal update` to get the latest version of the Update Tool.
2. Run `bal dist update` to update to this latest distribution.

## Install Ballerina

If you have not installed Ballerina, download the [installers](/downloads/#swanlake) to install.

## Language updates

### Bug fixes

To view bug fixes, see the [GitHub milestone for Swan Lake Update 12 (2201.12.0)](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+label%3ATeam%2FCompilerFE+milestone%3A2201.12.0+is%3Aclosed+label%3AType%2FBug).

## Runtime updates

### Bug fixes

To view bug fixes, see the [GitHub milestone for Swan Lake Update 12 (2201.12.0)](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A2201.12.0+label%3ATeam%2FjBallerina+label%3AType%2FBug+is%3Aclosed).

## Ballerina library updates

### New features

#### `http` package

- Introduced the default HTTP listener, allowing multiple services from different Ballerina packages to be attached to the same listener. By default, the listener runs on port `9090`

  ```ballerina
  import ballerina/http;

  listener http:Listener httpListener = http:getDefaultListener();

  service /api/v1 on httpListener {

      resource function get greeting() returns string {
          return "Hello, World from Service 1!";
      }
  }
  ```

  The port and configuration of the default listener can be customized in `Config.toml` as follows:

  ```toml
  [ballerina.http]
  defaultListenerPort = 8080

  [ballerina.http.defaultListenerConfig]
  httpVersion = "1.1"

  [ballerina.http.defaultListenerConfig.secureSocket.key]
  path = "resources/certs/ballerinaKeystore.p12"
  password = "ballerina"
  ```

- Introduced an API to convert an `http:Response` object into a `http:StatusCodeRecord`, which includes the status code, body, and headers

  ```ballerina
  http:Client clientEP = check new ("localhost:9090/api");
  http:Response res = check clientEP->/path;
  http:StatusCodeRecord statusCodeRes = check res.getStatusCodeRecord();
  ```

### Improvements

#### `http` package

- Improved HTTP client performance particularly when using a trust store with multiple certificates
- Added TLS v1.3-supported cipher suites to the default listener configuration
- Added support for **X25519MLKEM768** key encapsulation in TLS v1.3, replacing **X25519Kyber768** key encapsulation algorithm

#### `persist` package

- Added new `@sql:Schema` annotation to define the schema of a entity record in the database. The schema can be defined using the `@sql:Schema` annotation as follows:

  ```ballerina
  import ballerina/persist.sql;
  
  @sql:Schema {value: "my_schema"}
  type Person record {|
      readonly int id;
      string name;
      string address;
  |};
  ```
  
  The `@sql:Schema` annotation is currently supported for MSSQL and PostgreSQL databases.

### Breaking changes

#### `crypto` package

- Updated the OIDs of Post-Quantum Algorithms
  
  Due to changes in [the FIPS standardization of post-quantum algorithms](https://csrc.nist.gov/projects/computer-security-objects-register/algorithm-registration), the OIDs for **MLDSA** and **MLKEM** algorithms have been updated. As a result, key pairs generated by the previous version of the crypto package and data encrypted using **MLDSA** or **MLKEM** will not be compatible with this release

### Bug fixes

To view bug fixes, see the [GitHub milestone for Swan Lake Update 12 (2201.12.0)](https://github.com/ballerina-platform/ballerina-standard-library/issues?q=is%3Aclosed+is%3Aissue+milestone%3A%222201.12.0%22+label%3AType%2FBug).

## Developer tools updates

### New features

#### Consolidate-packages tool

- Introduced the `consolidated-packages` bal tool to generate code required to consolidate multiple Ballerina services into a single executable.
- Simplifies service consolidation to enable monolith-style deployments.

  ```toml
  [package]
  org = "myorg"
  name = "myapp"
  version = "0.1.0"

  [[tool.consolidate-packages]]
  id = "consolidateSvc"
  options.services = ["myorg/menu_service", "myorg/order_service"]
  ```

Automation tools and CI/CD pipelines can integrate the CLI tool to automatically generate a Ballerina package containing the consolidated services.

- To install the tool, run:

  ```
  $ bal tool pull consolidate-packages 
  ```

- To create a package, use:

  ```
  $ bal consolidate-packages new --package-path <path> <comma-separated-list-of-services> 
  ```

For more information, see [consolidate-packages tool](/learn/consolidate-packages-tool). 

#### Persist tool

- Introduced support to define default schema for all entities in the database using configuration. This is an optional configuration and only supported in MSSQL and PostgreSQL. This can be set in the `Config.toml` file along with other database configurations as follows:

  ```toml
  [<packageName>.<moduleName>]
  host = "localhost"
  port = 5432
  user = "postgres"
  password = ""
  database = ""
  defaultSchema = "EMPLOYEE"
  ```
  The priority order for schema resolution is as follows:

  1. The schema defined in the model using the `@sql:Schema` annotation.
  2. The default schema specified in the `Config.toml` file.
  3. The default schema of the database.

